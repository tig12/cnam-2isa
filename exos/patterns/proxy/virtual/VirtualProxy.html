<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <title>Exercice Virtual Proxy | NFP121</title>
    <link href="../../../../static/style.css" rel="stylesheet" type="text/css">
    <script async defer data-domain="larzac.info" src="http://plausible.tig12.net:8000/js/plausible.js"></script>
</head>
<body>

<header>
<h1>Exercice : Virtual Proxy</h1>
</header>

<article>

<a href="enonce">Code source de l'énoncé</a>

<ol class="spaced">
    <li>
Compilez le code de l'énoncé, exécutez le et vérifiez qu'un <code>GrosObjet</code> est créé dès qu'il est instancié (ce qui est la moindre des choses...).
    </li>
    
    <li>
Transformez le code en introduisant un pattern <i>Proxy</i> : implémentez <code>IGrosObjet</code> et <code>GrosObjetProxy</code>.
<br>
<br>Dans <code>main()</code>, remplacez
<pre>
        System.out.println("dans main() : avant instanciation de GrosObjet");
        GrosObjet go = new GrosObjet();
        System.out.println("dans main() : après instanciation de GrosObjet");
</pre>
par :
<pre>
        System.out.println("dans main() : avant instanciation de GrosObjetProxy");
        IGrosObjet go = new GrosObjetProxy();
        System.out.println("dans main() : après instanciation de GrosObjetProxy");
</pre>

<code>GrosObjetProxy</code> doit contenir un mécanisme implémentant le <i>lazy loading</i> : une instance de <code>GrosObjet</code> n'est créée que lorsqu'il est vraiment utilisé.
<br>
<br>A l'exécution, cela donne l'affichage suivant :
<pre>
java TestAbstractProxy 
</pre>
<pre>
dans main() : avant instanciation de GrosObjet
dans main() : après instanciation de GrosObjet

dans main() : appel à go.premièreMéthodeAyantVraimentBesoinDeGrosObjet()
    constructeur GrosObjet === Création très chère ===
    premièreMéthodeAyantVraimentBesoinDeGrosObjet()
dans main() : appel à go.secondeMéthodeAyantVraimentBesoinDeGrosObjet()
    secondeMéthodeAyantVraimentBesoinDeGrosObjet()
</pre>
    </li>
    
</ol>

</article>

</body>
</html>
