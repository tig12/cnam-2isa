<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <title>Multiplication circulaire | 2ISA Millau</title>
    <link rel="icon" type="image/png" href="../../static/favicon.jpg">
    <meta name="description" content="">
    <meta name="robots" content="index,follow">
    <link href="../../static/cnam-2isa.css" rel="stylesheet" type="text/css">
    <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
    <meta name="dcterms.rights" content="Creative commons by-sa 4.0">
    <meta name="dcterms.rightsHolder" content="Thierry Graff">
    <meta name="dcterms.dateCopyrighted" content="2021-10-20 15:42:02+02:00">
    
    <!-- 
        Incrustation mulform
    -->
    <link rel="stylesheet" href="mul/svg.css" type="text/css">
    <link rel="stylesheet" href="mul/mul.css" type="text/css">
    <link rel="stylesheet" href="mul/mulform.css" type="text/css">
    <script src="mul/svg.js"></script>
    <script src="mul/mul.js"></script>
    <script src="mul/mulform.js"></script>
    <style>
    /* customize mulform */
    .mulform{
        display:inline-block;
        margin:1rem;
        border:1px solid grey;
        background:#ddd;
    }
    </style>
    <!-- 
        FIN Incrustation mulform
    -->
</head>

<body>

<nav class="prevnext">
    <a class="top" title="Exos" href="../../content/maths/exos.html">&uarr;</a>
</nav>

<header>
<h1>
    Multiplication circulaire
</h1>
</header>

<main>
<article>

<div class="intro">
Le but est d'utiliser javascript pour générer en SVG les animations exposées dans la vidéo "<a href="https://www.youtube.com/watch?v=-X49VQgi86E">La face cachée des tables de multiplication - Micmaths</a>".
<br>Notions abordées : coordonnées, trigonométrie, modulo.
<br>Prérequis : Javascript, <a href="svg-js.html">SVG</a>.
</div>

<!-- ********************************************************************************* -->
<h2>Prototype</h2>
Le programme à écrire doit donner à peu près ce résultat :

<br>
<!-- ************************* Début mulform ************************************* -->
<script>
window.addEventListener('load', function(){
    const modulo = 200;
    const table = 2;
    const svgSize = 400;
    const form = new mulform(modulo, table, svgSize);
});
</script>
<div class="mulform">
    <div class="flex-row">
        <div id="mulform-svg">
        <!-- here goes the svg generated by js -->
        </div>
        
        <div class="right">
            <div class="play" id="div-t" style="padding-left:1.8rem;">
                <div class="padding-bottom05">
                    <b>Change table</b>
                    <button id="btn-t" type="button">Play</button>
                </div>
                <div class="grid2-form">
                    <label for="step-t" class="padding-left">Step:</label>
                    <input id="step-t" type="number" value="0.1" step="0.01" size="2"/>
                </div>
            </div>
            <br>
            <div class="play" id="div-m">
                <div class="padding-bottom05">
                    <b>Change Modulo</b>
                    <button id="btn-m" type="button">Play</button>
                </div>
                <div class="grid2-form">
                    <label for="step-m" class="padding-left">Step:</label>
                    <input id="step-m" type="number" value="1" step="1" size="1"/>
                </div>
            </div>
        </div>
    </div><!-- end class="right" -->

    <div class="bottom">
        <div class="carac">
            <span class="">Table: </span>
            <input id="table" type="number" value="2" size="4"/>
            <span class="padding-left">Modulo: </span>
            <input id="modulo" type="number" value="300" size="5"/>
        </div>
    </div><!-- end class="bottom" -->
    
</div><!-- end class="mulform" -->
<!-- ************************* Fin mulform ************************************* -->

<br>Ce dessin représente une table de multiplication ; l'état initial est un dessin de "la table de 2 modulo 200".
<br>Les contrôles du bas permettent de changer la table représentée et le modulo utilisé.
<br>Les contrôles de droite font la même chose et permettent de lancer une animation en changeant les valeurs et en rafraîchissant l'affichage à intervalles réguliers (100 ms).

<!-- ********************************************************************************* -->
<h2>Exercice (TD)</h2>
<div class="exo">
Nous allons diviser le travail en deux parties :
<ol>
    <li>Dessiner une table circulaire.</li>
    <li>Ecrire une petite application javascript pour gérer le formulaire et les animations.</li>
</ol>
</div>

<!-- ********************************************************************************* -->
<h2>Dessiner une table circulaire</h2>

Le but est donc d'écrire un programme qui dessine une table de multiplication donnée pour un modulo donné.
<div class="definition">
<b>Modulo</b>
<br>Sur une horloge, les minutes fonctionnenent en modulo 60 et les heures en modulo 12.
<br>64 modulo 60 = 4
<br>13 modulo 12 = 1
<br>On utilise aussi souvent les heures en modulo 24 : 25 h = 1 h du matin le jour suivant.
<br>Les mois de l'année sont en modulo 12.
<br>Dans la plupart des langages informatiques, l'opérateur modulo utilise le symbole <span class="bold big2">%</span>.
<br>On a par exemple : <code>9 % 7 = 2</code>
<br><br>D'une manière générale, la définition du modulo est : 
<br>"<i>Opération binaire qui associe à deux entiers naturels le reste de la division euclidienne du premier par le second</i>".
</div>

Sur notre cercle, le modulo représente le nombre de points sur le cercle.
<br>Les nombres sur le cercle vont de 0 à (<code>modulo - 1</code>).

<br><br>Exemple : table de 2 modulo 10, les nombres vont de 0 à 9.
<br>On divise le cercle en 10, et chaque point sur le cercle représente un nombre.

<div class="margin"><script>
document.write(mymul.draw(mult=2, mod=10));
</script></div>

Si deux nombres sont reliés par la relation "multiplier par 2", on dessine une ligne reliant ces deux nombres.
<div class="margin-left">
<br>ligne 1 - 2
<br>ligne 2 - 4
<br>ligne 3 - 6
<br>etc.
<br>On a par exemple une ligne entre 8 et 6 parce que <code>8 x 2 = 16 = 6 % 10</code>
</div>

<div class="exo">
    Ecrire un programme javascript qui génère ce dessin.
</div>

<!-- ************************************* -->
<h3>Identifier les paramètres</h3>

<details>
    <summary>Voir solution</summary>
    2 paramètres principaux :
    <ul class="margin0">
        <li><code>table</code></li>
        <li><code>modulo</code></li>
    </ul>
    Autres :
    <ul style="margin-top:0;">
        <li><code>svgSize</code> : taille de l'image svg, en px.</li>
        <li><code>gap</code> : espace entre le cercle et le bord de l'image, en px.</li>
    </ul>
</details>

<!-- ************************************* -->
<h3>Les repères</h3>

Un repère sert à gérer des coordonnées. Il est caractérisé par son centre et ses axes.
<br>Noté <span class="bold big">R(0, x, y)</span> : repère de centre O muni de 2 axes, x et y, pour mesurer les coordonnées.

<h4>R = Repère de l'écran</h4>
Notre repère de départ est le système de coordonnées qu'on utilise en svg :
<span class="padding05">&lt;circle cx="300" cy="300" r="250""></span>
<br>L'origine est en haut à gauche, les x vont croissant vers la droite, les y vont croissant vers le bas.
<br>Noté sur le dessin <span class="bold big">R(0<sub>1</sub>, x, y)</span>

<img class='margin border' src='mul/img-repere.jpg' alt='Changement de repère'>

<h4>R' = Repère du cercle</h4>
Le centre du repère est le centre du cercle O<sub>2</sub>, et l'axe des x est dirigé vers le point du cercle où se trouve écrit le chiffre 0, en haut dans notre cas.
<br>Noté sur le dessin <span class="bold big">R'(0<sub>2</sub>, x', y')</span>

<div class="exo">
On note r le rayon du cercle.
<br>Exprimer, en fonction de k et de r, les coordonnées (x'<sub>k</sub>, y'<sub>k</sub>) dans le repère R' du point M<sub>k</sub> où va être écrit le nombre k sur le cercle.
</div>

<h4>Changement de repère</h4>
On connaît les coordonnées (x', y') mais on a besoin des coordonnées (x, y) pour renseigner le svg.

<div class="exo">
Trouver les relations donnant (x, y) en fonction de (x', y').
<details>
    <summary>Indication</summary>
    Regardez le point M sur le dessin.
    <br>Par exemple sur l'axe x, quelle est la relation entre x, x<sub>2</sub> et y' ?
    <br>Trouver une relation similaire sur l'axe y.
</details>

</div>

<!-- ************************************* -->
<h3>Organisation du code</h3>

Dans un premier temps, on se concentre sur le code à écrire pour générer un seul dessin.

<h4>Utiliser une classe</h4>

<!-- ************************************* -->
<h3>Test</h3>

<div class="exo">
Utilisez votre code pour générer une gallerie comme ci-dessous.
</div>

<script>
    const mymul = new mul(300);
    // const mysvg = new svg(300, 300, {'class': "svg"});
    // mymul.INTERVAL = 500;
    
    const mymod = 210;
    const modfrom = 2;
    const modto = 20
    document.write('<div class="center big3 bold">Tables modulo ' + mymod + '</div>\n');
    for(let i = modfrom; i <= modto; i++){
        document.write('<div style="float:left;">\n');
        document.write('<center><h2>' + i + '</h2></center>\n');
        document.write(mymul.draw(mult=i, mod=mymod));
        document.write('</div>\n');
    }
    document.write('<br style="clear:left;">\n');
    
    const mymul2 = new mul(180, 5);
    // const mysvg = new svg(300, 300, {'class': "svg"});
    // mymul.INTERVAL = 500;
    
    const mymod2 = 180;
    const modfrom2 = 2;
    const modto2 = 20
    for(let i = modfrom2; i <= modto2; i++){
        document.write('<div>\n');
        document.write(mymul2.draw(mult=i, mod=mymod2));
        document.write('</div>\n');
    }
    
</script>

<!-- 
    const modulo = 200;
    const table = 2;
    const svgSize = 400;
    const form = new mulform(modulo, table, svgSize);
-->






</article>
</main>
<!-- 
<div>
<script>
const repsvg = new svg(300, 300, {'class': 'svg padding'});
repsvg.circle(150, 150, 120, {'stroke-width':2});
// x' axis
repsvg.path('M150 300 v-300 l-10 15 l10 -15 l10 15');
repsvg.text(170, 15, "x'");
// y' axis
repsvg.path('M300 150 h-300 l15 10 l-15 -10 l15 -10');
repsvg.text(5, 180, "y'")
//repsvg.text(140, 120, 'Bonjour', {stroke:'black', 'stroke-width':'2'});
document.write(repsvg.markup());
</script>
</div>

<circle cx="200" cy="200" r="160"></circle>
<text x="200" y="20">0</text>
<text x="94" y="54">1</text>
<text x="29" y="144">2</text>
<text x="29" y="256">3</text>
<text x="94" y="346">4</text>
<text x="200" y="380">5</text>
<text x="306" y="346">6</text>
<text x="371" y="256">7</text>
<text x="371" y="144">8</text>
<text x="306" y="54">9</text>
<line x1="200" y1="40" x2="200" y2="40"></line>
<line x1="106" y1="71" x2="48" y2="151"></line>
<line x1="48" y1="151" x2="106" y2="329"></line>
<line x1="48" y1="249" x2="294" y2="329"></line>
<line x1="106" y1="329" x2="352" y2="151"></line>
<line x1="200" y1="360" x2="200" y2="40"></line>
<line x1="294" y1="329" x2="48" y2="151"></line>
<line x1="352" y1="249" x2="106" y2="329"></line>
<line x1="352" y1="151" x2="294" y2="329"></line>
<line x1="294" y1="71" x2="352" y2="151"></line>
-->
</body>
</html>
